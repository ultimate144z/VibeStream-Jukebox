<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Experience</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
        }
        #bgCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .music-player {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 250px;
            background: rgba(0, 0, 0, 0.6);
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .website-title {
            color: #fff;
            font-size: 20px;
            text-align: center;
            width: 100%;
            margin-bottom: 10px;
            opacity: 0.8;
        }

        .music-player img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 8px;
        }
        .music-player-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 10px;
        }
        .button {
            background-color: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .button svg {
            fill: #fff;
            width: 24px;
            height: 24px;
        }
        .volume-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 30%;
            height: 5px;
            background: #fff;
            border-radius: 5px;
        }
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            background: #ff4081;
            cursor: pointer;
            border-radius: 50%;
        }
        .song-title {
            color: #fff;
            font-size: 16px;
            text-align: center;
            padding-top: 10px;
        }

        
        #suggestion-box {
            margin-top: 20px;
            padding: 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            font-size: 24px;
            border-radius: 15px;
            width: 50%;
            max-width: 300px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1001;
            cursor: pointer;
            top: calc(60% + 120px);
            
        }

        #aesthetic-clock {
            position: fixed;
            top: 10px;
            left: 10px;
            color: #fff;
            font-family: 'Arial', sans-serif;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 8px;
            z-index: 2000;
        }
    
        
        #additional-content {
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            background: rgba(0,0,0,0.5);
            color: white;
            text-align: center;
            margin-top: 100vh;
            z-index: 5;
        }

        #journal-section {
            background-color: rgba(0, 0, 0, 0.8);
            color: #ccc;
        }

        #journal-entry {
            background-color: rgba(0, 0, 0, 0.8);
            color: #ccc;
            border: 1px solid #444;
        }

        #journal-section button {
            background-color: rgba(0, 0, 0, 0.8);
            color: #ccc;
        }

        #journal-section button:hover {
            background-color:rgba(0, 0, 0, 0.8);
        }

        body, html {
            height: auto;
            overflow: auto;
        }

        .mood-tracker {
            background-color: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            margin: 20px auto;
            width: 80%;
        }
        .mood-button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

    </style>
</head>
<body>
    <div id="navigation" style="position: fixed; top: 0; right: 20px; z-index: 3000; padding: 10px; background: rgba(0, 0, 0, 0.2); border-radius: 0px 0px 5px 5px;">
        <a href="#" id="home-link" style="color: #fff; text-decoration: none; font-size: 20px; padding: 5px 10px; border-radius: 5px; margin-right: 10px;">Home</a>
        <a href="#journal-section" id="journal-link" style="color: #fff; text-decoration: none; font-size: 20px; padding: 5px 10px; border-radius: 5px; margin-right: 10px;">Journal</a>
        <a href="#todo-section" id="todo-link" style="color: #fff; text-decoration: none; font-size: 20px; padding: 5px 10px; border-radius: 5px; margin-right: 10px;">To-Do List</a>
        <a href="https://www.crunchyroll.com" target="_blank" id="anime-link" style="color: #fff; text-decoration: none; font-size: 20px; padding: 5px 10px; border-radius: 5px;">Anime</a>
        <a href="https://chat.openai.com/" target="_blank" id="gpt-link" style="color: #fff; text-decoration: none; font-size: 20px; padding: 5px 10px; border-radius: 5px;">GPT</a>
    </div>

    <div id="suggestion-box">
        Click for a suggestion!
    </div>

    <div id="aesthetic-clock"></div>

    <div id="daily-reminder" style="color: #fff; font-size: 20px; text-align: center; margin-bottom: 10px; padding: 5px; border-radius: 10px;">Reminder will go here</div>

    <div class="music-player">
        <div class="website-title">BB & B's Safespace</div>
        <img src="image3.jpg" alt="Aesthetic Image" />
        <div class="music-player-controls">
          <button class="button" id="prev">
            <svg fill="#ffffff" viewBox="0 0 24 24">
                <path d="M19 20L9 12l10-8v16zM5 20V4l10 8-10 8z"/>
            </svg>
        </button>
            <button class="button" id="play">
                <svg viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                </svg>
            </button>
            <button class="button" id="next">
                <svg viewBox="0 0 24 24">
                    <path d="M6 18l8.5-6L6 6v12zm9-12v12l8.5-6L15 6z"/>
                </svg>
            </button>
            <input type="range" id="volume" class="volume-slider" min="0" max="1" step="0.01">
        </div>
        <div id="songTitle" class="song-title">Song Name</div>
        <audio id="audioPlayer" loop>
            <source src="song1.mp3" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>
    </div>

    <div id="additional-content">
        <p>Explore more activities, engage with content, or relax with additional interactive elements.</p>
    </div>

    <!-- New Mood Tracker Section -->
    <div class="mood-tracker">
        <h2>How are you feeling?</h2>
        <button class="mood-button" style="background-color: #4CAF50;" onclick="trackMood('üòä Calm')">üòä Calm</button>
        <button class="mood-button" style="background-color: #FFEB3B;" onclick="trackMood('üòê Neutral')">üòê Neutral</button>
        <button class="mood-button" style="background-color: #FF9800;" onclick="trackMood('üòü Anxious')">üòü Anxious</button>
        <button class="mood-button" style="background-color: #F44336;" onclick="trackMood('üòû Sad')">üòû Sad</button>
        <div id="mood-history" style="margin-top: 20px; color: white;"></div>
    </div>

    <div id="todo-section" style="background-color: rgba(0, 0, 0, 0.8); color: white; text-align: center; padding: 50px 0; min-height: 100vh; font-family: 'Arial', sans-serif;">
        <h2 style="margin-bottom: 20px;">To-Do List</h2>
        <input id="new-task" type="text" placeholder="Add a new task" style="width: 60%; padding: 10px; border-radius: 5px; margin-bottom: 20px; background-color: rgba(0, 0, 0, 0.5); color: #ccc; border: 1px solid #444;">
        <button onclick="addTask()" style="padding: 10px 20px; font-size: 16px; border-radius: 5px; background-color: #ff4081; color: white; border: none; cursor: pointer;">Add Task</button>
        <ul id="task-list" style="list-style-type: none; padding: 0;">
        </ul>
    </div>

    <div id="journal-section" style="background-color: rgba(0, 0, 0, 0.8); color: white; text-align: center; padding: 50px 0; min-height: 100vh; font-family: 'Arial', sans-serif;">
        <h2 style="margin-bottom: 20px;">My Journal</h2>
        <textarea id="journal-entry" placeholder="What's on your mind today?" style="width: 80%; height: 150px; margin-bottom: 20px; border-radius: 5px; padding: 10px;"></textarea><br>
        <button onclick="saveEntry()" style="padding: 10px 20px; font-size: 16px; border-radius: 5px; background-color: #ff4081; color: white; border: none; cursor: pointer;">Save Entry</button>
        <div id="journal-entries" style="margin-top: 20px;">
        </div>
        <button id="load-more" onclick="loadMoreEntries()" style="padding: 10px 20px; font-size: 16px; border-radius: 5px; background-color: #ff4081; color: white; border: none; cursor: pointer; margin-top: 20px;">Load More</button>
    </div>

    <script>
        // To-Do List with localStorage
        let taskIdCounter = localStorage.getItem('taskIdCounter') ? parseInt(localStorage.getItem('taskIdCounter')) : 0;
        
        function loadTasks() {
            const savedTasks = JSON.parse(localStorage.getItem('tasks')) || [];
            const taskList = document.getElementById('task-list');
            taskList.innerHTML = '';
            savedTasks.forEach(task => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span id="task-text-${task.id}">${task.text}</span>
                    <button onclick="deleteTask(${task.id})">Delete</button>
                    <button onclick="editTask(${task.id})">Edit</button>
                `;
                li.setAttribute('id', `task-${task.id}`);
                li.style.padding = "10px";
                li.style.marginBottom = "5px";
                li.style.background = "rgba(255, 255, 255, 0.1)";
                taskList.appendChild(li);
            });
            taskIdCounter = savedTasks.length > 0 ? Math.max(...savedTasks.map(t => t.id)) + 1 : 0;
        }

        function saveTasks() {
            const tasks = [];
            document.querySelectorAll('#task-list li').forEach(li => {
                tasks.push({
                    id: parseInt(li.id.split('-')[1]),
                    text: li.querySelector('span').innerText
                });
            });
            localStorage.setItem('tasks', JSON.stringify(tasks));
            localStorage.setItem('taskIdCounter', taskIdCounter);
        }

        function addTask() {
            const taskInput = document.getElementById('new-task');
            const task = taskInput.value.trim();
            if (task) {
                const taskList = document.getElementById('task-list');
                const li = document.createElement('li');
                li.innerHTML = `
                    <span id="task-text-${taskIdCounter}">${task}</span>
                    <button onclick="deleteTask(${taskIdCounter})">Delete</button>
                    <button onclick="editTask(${taskIdCounter})">Edit</button>
                `;
                li.setAttribute('id', `task-${taskIdCounter}`);
                li.style.padding = "10px";
                li.style.marginBottom = "5px";
                li.style.background = "rgba(255, 255, 255, 0.1)";
                taskList.appendChild(li);
                taskInput.value = '';
                taskIdCounter++;
                saveTasks();
            }
        }

        function deleteTask(taskId) {
            const taskItem = document.getElementById(`task-${taskId}`);
            taskItem.remove();
            saveTasks();
        }

        function editTask(taskId) {
            const taskSpan = document.getElementById(`task-text-${taskId}`);
            taskSpan.contentEditable = true;
            taskSpan.focus();
            taskSpan.addEventListener('blur', () => {
                taskSpan.contentEditable = false;
                saveTasks();
            });
        }

        // Journal Entries
        let currentIndex = 0;
        const entriesToShow = 10;

        function saveEntry() {
            const entryText = document.getElementById('journal-entry').value;
            const time = new Date().toLocaleString();
            const entry = `${time}: ${entryText}`;
            let entries = JSON.parse(localStorage.getItem('journalEntries')) || [];
            entries.push(entry);
            localStorage.setItem('journalEntries', JSON.stringify(entries));
            document.getElementById('journal-entry').value = '';
            displayEntries(true);
        }

        // Mood Tracker
        function trackMood(mood) {
            const moodEntry = {
                mood: mood,
                timestamp: new Date().toLocaleString()
            };
            let moods = JSON.parse(localStorage.getItem('moodHistory')) || [];
            moods.push(moodEntry);
            localStorage.setItem('moodHistory', JSON.stringify(moods));
            displayMoodHistory();
        }

        function displayMoodHistory() {
            const moods = JSON.parse(localStorage.getItem('moodHistory')) || [];
            const historyDiv = document.getElementById('mood-history');
            historyDiv.innerHTML = '<h3>Mood History</h3>';
            moods.slice(-5).reverse().forEach(mood => {
                historyDiv.innerHTML += `<p>${mood.timestamp}: ${mood.mood}</p>`;
            });
        }

        // Enhanced Suggestions and Quotes
        const activities = [
            "Try a new recipe", "Do some light stretching", 
            "Write down 3 things you're grateful for",
            "Listen to a podcast", "Organize your space",
            "Try a meditation session", "Read a book chapter",
            "Do a digital detox for 1 hour", "Plan your perfect day",
            "Try a mindfulness exercise", "Write a letter to your future self"
        ];

        const quotes = [
            "You're capable of amazing things.",
            "Progress, not perfection.",
            "Small steps still move you forward.",
            "Your mental health matters.",
            "It's okay to take a break.",
            "You are enough just as you are.",
            "This moment is temporary.",
            "Breathe in calm, breathe out stress."
        ];

        function getDailyQuote() {
            return quotes[Math.floor(Math.random() * quotes.length)];
        }

        // Initialize components
        window.onload = function() {
            loadTasks();
            displayEntries();
            displayMoodHistory();
            document.getElementById('daily-reminder').textContent = getDailyQuote();
            setInterval(() => {
                document.getElementById('daily-reminder').textContent = getDailyQuote();
            }, 3600000); // Update quote every hour
        };

const startTime = Date.now();

    function updateClock() {
        const elapsedTime = Date.now() - startTime;
        const seconds = Math.floor((elapsedTime / 1000) % 60);
        const minutes = Math.floor((elapsedTime / (1000 * 60)) % 60);
        const hours = Math.floor((elapsedTime / (1000 * 60 * 60)) % 24);
  
        const formattedTime = [hours, minutes, seconds].map(unit => unit < 10 ? '0' + unit : unit).join(':');
        document.getElementById('aesthetic-clock').textContent = `Time on site: ${formattedTime}`;
        }

        setInterval(updateClock, 1000); // Update the clock every second

        const audioPlayer = document.getElementById('audioPlayer');
        const playButton = document.getElementById('play');
        const prevButton = document.getElementById('prev');
        const nextButton = document.getElementById('next');
        const volumeSlider = document.getElementById('volume');
        const songTitle = document.getElementById('songTitle');
        let currentTrackIndex = 0;
        const tracks = [
            "Mist.mp3",
            "Name of Life.mp3",
            "Safe Again.mp3"
        ];

        function playTrack(index) {
            audioPlayer.src = tracks[index];
            audioPlayer.play();
            playButton.innerHTML = '<svg viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>'; // Change to pause icon
            songTitle.textContent = `Playing: ${getSongName(tracks[index])}`; // Update the song title
        }

        function getSongName(filePath) {
            return filePath.replace(/^.*[\\\/]/, '').replace(/\.[^/.]+$/, '');
        }

        playButton.addEventListener('click', function() {
            if (audioPlayer.paused) {
                playTrack(currentTrackIndex);
            } else {
                audioPlayer.pause();
                this.innerHTML = '<svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>'; // Change to play icon
            }
        });

        prevButton.addEventListener('click', function() {
            currentTrackIndex = (currentTrackIndex + tracks.length - 1) % tracks.length;
            playTrack(currentTrackIndex);
        });

        nextButton.addEventListener('click', function() {
            currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
            playTrack(currentTrackIndex);
        });

        volumeSlider.addEventListener('input', function() {
            audioPlayer.volume = this.value;
        });

         // Script for the suggestion feature
         const suggestionBox = document.getElementById('suggestion-box');
        const activities = [
            "Watch anime",
            "Watch reels",
            "Check out netflix",
            "Play some game",
            "Message some friends",
            "Relax, and listen to songs",
            "Just chill",
            "Practice coding"
            // Add more activities as you like
        ];

        suggestionBox.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * activities.length);
            suggestionBox.textContent = activities[randomIndex];
        });

        let bgImage; // Variable to store the background image
        let shootingStars = []; // Array to hold the shooting stars

        function preload() {
            bgImage = loadImage("image2.jpg"); // Ensure this points to the correct path
        }

        let fireflies = [];

        function setup() {
            let cnv = createCanvas(windowWidth, windowHeight);
            cnv.style('display', 'block');
            cnv.id('bgCanvas'); // Assign an ID to the canvas for styling
            frameRate(30); // Adjust frame rate as needed for performance
            // Create fireflies - adjust the numbers to position them on the grass
            for (let i = 0; i < 50; i++) { 
                let x = random(0, width * 0.3); // Constrain x to the left part of the canvas
                let y = random(height * 0.6, height * 0.8); // Adjust y to the height of the grass area
                fireflies.push(new Firefly(x, y));
  }
    }

        function draw() {
            image(bgImage, 0, 0, width, height); // Draw the background image

            shootingStars.forEach((star, index) => {
                star.update();
                star.display();
                if (star.isOffScreen()) {
                    shootingStars.splice(index, 1);
                }
                // Display fireflies
                for (let firefly of fireflies) {
                    firefly.update();
                    firefly.display();
        }
            });

            if (random(1) < 0.03) { // Adjust probability as needed
                shootingStars.push(new ShootingStar());
            }
        }


        class Firefly {
  constructor() {
    this.reset();
  }

  reset() {
    // Constrain the firefly to the left grass area
    this.x = random(0, width * 0.3); // Adjust the range as needed
    this.y = random(height * 0.6, height * 0.8); // Adjust the range as needed
    this.size = random(4, 8);
    this.brightness = random(100, 200);
  }

  update() {
    // Twinkle effect by adjusting brightness
    this.brightness += random(-20, 20);
    this.brightness = constrain(this.brightness, 100, 200);

    // Reset position if it goes out of bounds or "flickers out"
    if (random(1) < 0.05) { // 5% chance to "reset" the firefly, adjust as needed
      this.reset();
    }
  }

  display() {
    noStroke();
    fill(255, 255, 100, this.brightness);
    ellipse(this.x, this.y, this.size);
  }
}



        class ShootingStar {
            constructor() {
                this.x = random(width);
                this.y = 0;
                this.speed = random(5, 15);
                this.length = random(50, 150); // Tail length
                this.opacity = 255;
                this.tailWidth = random(3, 6); // The initial width of the tail
            }

            update() {
                this.x += this.speed;
                this.y += this.speed;
                this.opacity -= 6; // Fade effect
                this.length += 0.5; // Optionally, make the tail grow as it fades
            }

            isOffScreen() {
                return (this.x > width || this.y > height || this.opacity <= 0);
            }

            display() {
                fill(255, 255, 255, this.opacity);
                noStroke();
                ellipse(this.x, this.y, this.tailWidth, this.tailWidth); // The head of the shooting star
                
                let tailOpacity = this.opacity;
                for (let i = 0; i < this.length; i += this.tailWidth) {
                    let step = (i / this.length);
                    let tailSize = this.tailWidth * (1 - step); // Decrease size
                    tailOpacity *= 0.95; // Decrease opacity
                    fill(255, 255, 255, tailOpacity);
                    ellipse(this.x - i, this.y - i, tailSize, tailSize); // The fading tail
                }
            }
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }
    </script>
</body>
</html>

